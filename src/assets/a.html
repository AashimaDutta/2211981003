<!-- Based on the screenshots you provided, here’s a sequential list of all required tasks followed by a customized Cursor AI prompt to complete this evaluation project efficiently.

✅ Sequential Task Breakdown
📌 Initial Setup
Register with the Test Server API:

Send a POST request to /evaluation-service/register with:

Your university email, name, roll number, mobile, GitHub username, college name, and access code.

Save the returned: clientId, clientSecret.

Obtain Authorization Token:

Send a POST request to /evaluation-service/auth with:

Email, name, roll number, access code, clientId, and clientSecret.

Save the returned access_token.

📁 Repository Setup
Create a Public GitHub Repository:

Use your Roll Number as the repository name.

Inside the repo, create 2 folders (e.g., question1 and question2).

Add a README (no mention of your name or Affordmed anywhere).

Commit code regularly and push to GitHub. Add .gitignore to exclude node_modules.

🔧 Question 1: Backend Microservice (Node.js + Express)
Build a microservice to interact with the Social Media API:

Must not use third-party algorithms/libraries for ranking.

Create endpoints to:

Fetch users, posts, comments

Calculate:

Top Users (most posts)

Trending Posts (most comments)

Feed (newest posts)

API Output should display:

Post body, response, and response time from tools like Postman/Insomnia

Store and sort posts/comments locally.

💻 Question 2: Frontend React Application
Build a Responsive React App with 3 Pages:

Top Users Page – Users with highest number of posts.

Trending Posts Page – Posts with highest number of comments.

Feed Page – Posts displayed in real-time (newest first).

Use React or Next.js. TypeScript preferred.

Use a UI library (e.g., TailwindCSS, Material UI, Bootstrap).

Integrate with your own backend APIs (not test server directly).

Include desktop and mobile views for screenshots.

📸 Submission Checklist
Provide:

Full source code.

Output screenshots.

Do not reference Affordmed or your name in any file or commit.

Push frequently and clearly.

Follow production-grade coding practices.





You're building a Full Stack Social Media Analytics application as part of a hiring evaluation.

🔧 Backend:
- Tech Stack: Node.js with Express, TypeScript preferred.
- Build a microservice to consume the following APIs:
  1. GET /users → List of users
  2. GET /users/:userId/posts → Posts by user
  3. GET /posts/:postId/comments → Comments on a post

- Required endpoints in your microservice:
  - /top-users → Returns users sorted by number of posts
  - /trending-posts → Returns posts sorted by number of comments
  - /feed → Returns posts sorted by latest date

- All data must be stored locally in memory or using lightweight storage.
- Do not use third-party libraries for sorting/ranking logic.

💻 Frontend:
- Tech Stack: React (with TypeScript preferred)
- UI Libraries allowed: TailwindCSS, Material UI, Bootstrap (no ShadCN)
- Build a responsive SPA with 3 pages:
  1. Top Users
  2. Trending Posts
  3. Feed (real-time like behavior)

- Each page fetches data from your backend only.
- Ensure mobile and desktop responsiveness.
- Use random images for posts and highlight keywords.

📂 Folder Structure:
- Create two folders: `question1` for backend, `question2` for frontend.
- Add README, .gitignore, and appropriate comments in code.
- Final repo must be public and named after your Roll Number.

📸 Output:
- Use Postman or Insomnia to show API response, request, and response time.
- Take screenshots of both backend results and frontend UI (desktop + mobile).

Please generate a complete codebase accordingly. Start with backend logic first, then move to frontend integration.










registration guide
✅ Option 1: Using Postman (Easiest for Beginners)
🔹 Step 1: Register
URL: https://your-api-domain.com/evaluation-service/register (replace with actual domain if provided)

Method: POST

Body Type: raw → JSON

Body Content (replace with your details):

json
Copy
Edit
{
  "email": "your-university-email@example.com",
  "name": "Your Full Name",
  "rollNumber": "123456",
  "mobile": "9876543210",
  "githubUsername": "your-github-username",
  "college": "Your College Name",
  "accessCode": "provided-access-code"
}
Click Send

Save the clientId and clientSecret from the response.

🔹 Step 2: Get Auth Token
URL: https://your-api-domain.com/evaluation-service/auth

Method: POST

Body Type: raw → JSON

Body Content:

json
Copy
Edit
{
  "email": "your-university-email@example.com",
  "name": "Your Full Name",
  "rollNumber": "123456",
  "accessCode": "provided-access-code",
  "clientId": "received-client-id",
  "clientSecret": "received-client-secret"
}
Click Send

Save the returned access_token.

✅ Option 2: Using Node.js + Axios Script
Install Axios:

bash
Copy
Edit
npm install axios
Then create a file like register.js:

ts
Copy
Edit
const axios = require("axios");

const BASE_URL = "https://your-api-domain.com"; // Replace with actual base URL

async function registerAndAuth() {
  try {
    // Step 1: Register
    const registerResponse = await axios.post(`${BASE_URL}/evaluation-service/register`, {
      email: "your-university-email@example.com",
      name: "Your Full Name",
      rollNumber: "123456",
      mobile: "9876543210",
      githubUsername: "your-github-username",
      college: "Your College Name",
      accessCode: "provided-access-code"
    });

    const { clientId, clientSecret } = registerResponse.data;
    console.log("✅ Registered:", { clientId, clientSecret });

    // Step 2: Get access token
    const authResponse = await axios.post(`${BASE_URL}/evaluation-service/auth`, {
      email: "your-university-email@example.com",
      name: "Your Full Name",
      rollNumber: "123456",
      accessCode: "provided-access-code",
      clientId,
      clientSecret
    });

    const { access_token } = authResponse.data;
    console.log("🔐 Access Token:", access_token);

  } catch (error) {
    console.error("❌ Error:", error.response?.data || error.message);
  }
}

registerAndAuth();
Run it:

bash
Copy
Edit
node register.js

http://20.244.56.144/evaluation-service/register -->


<!-- {"email":"aashima1003.be22@chitkarauniversity.edu.in","name":"aashima dutta","rollNo":"2211981003","accessCode":"PwzufG","clientID":"c7833e30-e0da-4189-b482-a0c1987dca76","clientSecret":"aZxYwvfrGpstmzyx"} -->
<!-- 
Develop a Social Media Analytics HTTP Microservice

As a developer, you have been provided with access to the APIs of a social media platform. Your task is to build the APIs detailed below that delivers real-time analytical insights.

While social media platform APIs typically restrict data access to the user making the API calls, the test server grants you access to posts and comments from various users concurrently.

Your users are business stakeholders (distinct from the social media platform's users), and are assumed to be pre-authorised. Your application must not require user registration or login for accessing your APIs.

The server's API provides data on users, their posts, and the comments associated with each post. The data received may be in an unsorted order.

Your microservice should consist of these APIs

• Top Users:

Method: GET

Route: http://hostname/users

Response: Top five users with the most commented posts.

■Consider the efficient storage and retrieval of user posts' comments counts

Top/Latest Posts:

Method: GET

Route: http://hostname/posts?type popular

Query Param: type (Accepted Values: latest, popular)

Response:

Popular: Top post(s) with the maximum number of comments. If multiple posts

meet this criterion, display all such posts.

Latest: Latest 5 posts in real-time, with the newest posts first.

Think about how you will maintain and efficiently identify the post(s) with the highest comment count, especially when dealing with unsorted and potentially large datasets. Also consider the dynamic nature of the data and how you will effectively. manage and display a continuously updating feed.

Each API call made by your application to the test server incurs a cost, which will negatively affect your test score.

Your users require a responsive, performant, and accurate experience. Therefore, any attempts to minimise costs must not compromise user experience or display outdated data.

Your microservice must exclusively consume the test server API for data retrieval and must not utilise any third-party APIs. Nor should you create your own APIs for Users or Posts or Comments that have already been provided in the test server.

The social media platform reserves the right to modify the sorting order or data at any time, without prior notice, and at any frequency. Your application must be capable of adapting to these changes. Your choice of data structures and algorithms will be critical in ensuring your application remains performant and adaptable to these potential changes.

Test Social Media Server APIs

These sample API requests and responses are intended only as an example. Using the exact same request may not result in a matching response

Get Users API

This is an API to obtain the users registered on the social media application

Request (GET)

Route with no pre-filled values

http://20.244.56.144/evaluation-service/users

Response

{

"users": {

"1": "John Doe",

"10": "Helen Moore",

"11": "Ivy Taylor",

"12": "Jack Anderson",

"13": "Kathy Thomas",

"14": "Liam Jackson",

"15": "Mona Harris",

"16": "Nathan Clark",

"17": "Olivia Lewis",

"18": "Paul Walker",

"19": "Quinn Scott",

"2": "Jane Doe",

"20": "Rachel Young",

"3": "Alice Smith",

"4": "Bob Johnson",

"5": "Charlie Brown",

"6": "Diana White",

"7": "Edward Davis

"8": "Fiona Miller",

"9": "George Wilson"

Get Posts API

This is an API to obtain the posts authored by a particular user on the social media application

Request (GET)

Route with no pre-filled values

http://20.244.56.144/evaluation-service/users/userid/posts

Route for John Doe's posts

http://28.244.56.144/evaluation-service/users/1/posts

Response:

{

"posts": [

{

"id": 246,

"userid": 1,

"content": "Post about ant"

"id": 161,

"userid": 1,

"content": "Post about elephant"

"id": 150.

"userid": 1

"content": "Post about ocean"

"id": 370,

"userid": 1,

"content": "Post about monkey"

"id": 344,

"userid": 1,

"content": "Pust about ocean

Route for john Doe's posts

http://20.244.56.144/evaluation service/posts/150/comments

Response:

"comments":[

E68EPE "postid": 150, "content": "Old comment"

"postid": 150,

"id": 4791, "content": "Boring comment"

Develop a React based Social Media Analytics Frontend Web Application

Develop responsive React frontend web application that delivers real-time analytical insights.

Your React application must run exclusively on http://localhost:3000.

Your application should consist of three pages

Top Users: Display the top five users with the highest number of posts. Consider the efficient storage and retrieval of user post counts

Trending Posts: Display the post(s) with the maximum number of comments. If multiple posts meet this criterion, display all such posts. Think about how you will maintain and efficiently identify the post(s) with the highest comment count, especially when dealing with unsorted and potentially large datasets.

Feed: Display the posts in real-time, with the newest posts appearing at the top. This page must be dynamic, reflecting posts returned by the backend server even after initial page load. Consider the dynamic nature of the data and how you will effectively manage and display a continuously updating feed.

Use a random selection of images for each post and user.

Your React application should be integrated with the hawe

Q Search

acer

+56

1  -->

<!-- 
Overview of the Solution
🔹 Microservice Backend (Node.js + Express)
This service will:

Fetch and cache data from the test social media server.

Provide analytical API endpoints:

GET /users → Top 5 users with the most commented posts.

GET /posts?type=popular|latest →

popular: Posts with the highest number of comments.

latest: 5 most recent posts sorted by timestamp or highest ID (as the API doesn't include timestamps).

Minimize API requests (cost-sensitive) by:

Caching user/posts/comments data in memory.

Periodic refresh via polling or lazy invalidation.

Storing computed analytics for quick access.

🔹 React Frontend (React + Axios + Tailwind/Bootstrap)
Three pages hosted on http://localhost:3000:

Top Users – Show top 5 users with the most commented posts.

Trending Posts – Show post(s) with the most comments.

Feed – Show the 5 latest posts in real time (polling or WebSocket simulation).

🛠 Microservice Backend API Implementation (Node.js + Express)
📦 Project Setup
bash
Copy
Edit
mkdir social-analytics-backend
cd social-analytics-backend
npm init -y
npm install express axios node-cache cors
📁 index.js
js
Copy
Edit
const express = require('express');
const axios = require('axios');
const NodeCache = require('node-cache');
const cors = require('cors');

const app = express();
const port = 8000;
const BASE_URL = 'http://20.244.56.144/evaluation-service';

const cache = new NodeCache({ stdTTL: 60 }); // Cache expires every 60s
app.use(cors());

app.get('/users', async (req, res) => {
    try {
        let userMap = await getUsers();
        let userPostMap = await getUserPostCommentCounts();

        let rankedUsers = Object.entries(userPostMap)
            .map(([userId, totalComments]) => ({
                id: userId,
                name: userMap[userId],
                totalComments
            }))
            .sort((a, b) => b.totalComments - a.totalComments)
            .slice(0, 5);

        res.json({ topUsers: rankedUsers });
    } catch (err) {
        console.error(err);
        res.status(500).json({ error: 'Failed to fetch top users' });
    }
});

app.get('/posts', async (req, res) => {
    const type = req.query.type;

    if (!type || !['popular', 'latest'].includes(type)) {
        return res.status(400).json({ error: 'Invalid or missing type param' });
    }

    try {
        const { allPosts, postCommentCounts } = await getAllPostsWithComments();

        if (type === 'popular') {
            let maxCount = Math.max(...Object.values(postCommentCounts));
            let popularPosts = allPosts.filter(p => postCommentCounts[p.id] === maxCount);
            return res.json({ popular: popularPosts, maxComments: maxCount });
        }

        if (type === 'latest') {
            let latest = allPosts
                .sort((a, b) => b.id - a.id) // Assuming higher ID = newer
                .slice(0, 5);
            return res.json({ latest });
        }

    } catch (err) {
        console.error(err);
        res.status(500).json({ error: 'Failed to fetch posts' });
    }
});

app.listen(port, () => {
    console.log(`Server running at http://localhost:${port}`);
});
🧠 Utility Functions in utils.js
js
Copy
Edit
const axios = require('axios');
const BASE_URL = 'http://20.244.56.144/evaluation-service';

let usersCache = null;

async function getUsers() {
    if (usersCache) return usersCache;

    const { data } = await axios.get(`${BASE_URL}/users`);
    usersCache = data.users;
    return usersCache;
}

async function getUserPostCommentCounts() {
    const users = await getUsers();
    const result = {};

    for (let userId of Object.keys(users)) {
        const posts = await axios.get(`${BASE_URL}/users/${userId}/posts`);
        let totalComments = 0;

        for (let post of posts.data.posts) {
            const comments = await axios.get(`${BASE_URL}/posts/${post.id}/comments`);
            totalComments += comments.data.comments.length;
        }

        result[userId] = totalComments;
    }

    return result;
}

async function getAllPostsWithComments() {
    const users = await getUsers();
    let allPosts = [];
    let postCommentCounts = {};

    for (let userId of Object.keys(users)) {
        const postsRes = await axios.get(`${BASE_URL}/users/${userId}/posts`);
        const posts = postsRes.data.posts;

        allPosts.push(...posts);

        for (let post of posts) {
            const comments = await axios.get(`${BASE_URL}/posts/${post.id}/comments`);
            postCommentCounts[post.id] = comments.data.comments.length;
        }
    }

    return { allPosts, postCommentCounts };
}

module.exports = {
    getUsers,
    getUserPostCommentCounts,
    getAllPostsWithComments
};
🎨 React Frontend Overview
📦 Project Setup
bash
Copy
Edit
npx create-react-app social-analytics-frontend
cd social-analytics-frontend
npm install axios react-router-dom
🗂 Pages Structure
css
Copy
Edit
src/
├── pages/
│   ├── TopUsers.js
│   ├── TrendingPosts.js
│   └── Feed.js
├── App.js
├── index.js
🧭 Routing in App.js
jsx
Copy
Edit
import React from 'react';
import { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';
import TopUsers from './pages/TopUsers';
import TrendingPosts from './pages/TrendingPosts';
import Feed from './pages/Feed';

function App() {
  return (
    <Router>
      <nav>
        <Link to="/">Top Users</Link> | <Link to="/trending">Trending</Link> | <Link to="/feed">Feed</Link>
      </nav>
      <Routes>
        <Route path="/" element={<TopUsers />} />
        <Route path="/trending" element={<TrendingPosts />} />
        <Route path="/feed" element={<Feed />} />
      </Routes>
    </Router>
  );
}
export default App;
📄 Example: TopUsers.js
jsx
Copy
Edit
import React, { useEffect, useState } from 'react';
import axios from 'axios';

function TopUsers() {
    const [users, setUsers] = useState([]);

    useEffect(() => {
        axios.get('http://localhost:8000/users')
            .then(res => setUsers(res.data.topUsers))
            .catch(err => console.error(err));
    }, []);

    return (
        <div>
            <h2>Top 5 Users with Most Commented Posts</h2>
            <ul>
                {users.map(user => (
                    <li key={user.id}>{user.name} - {user.totalComments} comments</li>
                ))}
            </ul>
        </div>
    );
}

export default TopUsers;
You’d do similar things for TrendingPosts.js and Feed.js.

🔁 Optional: Real-time Feed (Polling)
In Feed.js, use setInterval to poll backend /posts?type=latest every few seconds and update feed.

✅ Next Steps
Add loading/error states in frontend

Improve caching & rate-limiting backend

Deploy backend and frontend

Add styling with Bootstrap/Tailwind

Add images randomly using picsum.photos or similar

Would you like me to generate the remaining frontend pages too (TrendingPosts, Feed), or bundle this as a complete repo? -->